<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>SuperSAM: Software Automatic Mouth</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <h2>SUPER SAM <br> Software Automatic Mouth</h2>

  <script src="dist/samjs.js"></script>
  <script>
    const opts = { debug: 1, pitch: 64, speed: 72, mouth: 128, throat: 128 };

    document.addEventListener("DOMContentLoaded", function() {
      ["speed", "pitch", "mouth", "throat"].forEach(param => {
        const input = document.getElementById(param);
        input.onchange = function() {
          opts[param] = input.value;
          document.getElementById(param + "-lbl").innerText = param.charAt(0).toUpperCase() + param.substr(1) + ": " + input.value;
        };
        input.value = opts[param];
      });

      document.getElementById("fmm").addEventListener("click", function(e) {
        e.preventDefault();
        new SamJs(opts).download(document.getElementById("speechinput").value);
      });

      document.getElementById("fmm2").addEventListener("click", function(e) {
        e.preventDefault();
        new SamJs(opts).speak(document.getElementById("speechinput").value);
      });
    });
  </script>

  <div class="items">
    <hr>
    <div>
      <label for="speechinput">Text to speak:</label>
      <input id="speechinput" name="textfield" value="This is an example of SUPER Software Automatic Mouth. Enjoy.">
      <hr>
      <label id="pitch-lbl" for="pitch">Pitch:</label>
      <input type="range" id="pitch" min="0" max="255" value="0">
      <label id="speed-lbl" for="speed">Speed:</label>
      <input type="range" id="speed" min="1" max="255" value="0">
      <label id="mouth-lbl" for="mouth">Mouth:</label>
      <input type="range" id="mouth" min="0" max="255" value="0">
      <label id="throat-lbl" for="throat">Throat:</label>
      <input type="range" id="throat" min="0" max="255" value="0">
      <button id="fmm2" type="submit">Speak</button>
      <button id="fmm" type="submit">Download</button>
    </div>
    <hr>
  </div>

  <a href="https://github.com/ChoojooK/SAM" target="__blank" style="text-decoration: none; display: block; text-align: center;">GitHub Code</a>
  <p style="text-align: center;">-More features coming soon-</p>
</body>
</html>
